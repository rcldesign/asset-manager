
> backend@1.0.0 test:integration
> npm run test:db:start && npm run test:db:wait && npm run test:db:migrate && npm run test:integration:run --maxWorkers=2


> backend@1.0.0 test:db:start
> (docker stop postgres-test 2>/dev/null || true) && (docker rm postgres-test 2>/dev/null || true) && docker run --name postgres-test -e POSTGRES_USER=testuser -e POSTGRES_PASSWORD=testpass -e POSTGRES_DB=asset_manager_test -p 5432:5432 -d postgres:15

postgres-test
postgres-test
0e8c495d5c3970f5ed122901c56789d6d589b8275a8d35533b48f8a6d824025e

> backend@1.0.0 test:db:wait
> echo 'Waiting for test database...' && until docker exec postgres-test pg_isready -U testuser > /dev/null 2>&1; do sleep 1; done && sleep 2 && echo 'Database ready!'

Waiting for test database...
Database ready!

> backend@1.0.0 test:db:migrate
> DATABASE_URL="postgresql://testuser:testpass@localhost:5432/asset_manager_test?schema=public" prisma migrate deploy

Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "asset_manager_test", schema "public" at "localhost:5432"

4 migrations found in prisma/migrations

Applying migration `20241206000000_initial_schema`
Applying migration `20241217000000_add_token_prefix`
Applying migration `20250618000000_phase_2_core_functionality`
Applying migration `20250619180529_add_schedule_fields_and_notification_prefs`

The following migration(s) have been applied:

migrations/
  └─ 20241206000000_initial_schema/
    └─ migration.sql
  └─ 20241217000000_add_token_prefix/
    └─ migration.sql
  └─ 20250618000000_phase_2_core_functionality/
    └─ migration.sql
  └─ 20250619180529_add_schedule_fields_and_notification_prefs/
    └─ migration.sql
      
All migrations have been successfully applied.

> backend@1.0.0 test:integration:run
> jest --config jest.integration.config.ts

✅ PostgreSQL database is available for integration tests
  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:14.186Z","method":"GET","url":"/api/assets","headers":{"host":"127.0.0.1:43901","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1MmUwMTRjNS1lY2ZjLTRlOTUtYThlNi1jMWM3OTg1Njk1MWIiLCJvcmdhbml6YXRpb25JZCI6IjU0MzVhZDYxLTQ2Y2ItNGMwNy04Zjc3LWVlMjA2NDFmY2JhZCIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJmOWZjMzdiMmQ3YWFlYTZmZDc0ODAyMjVkN2I3Mjk5Ni1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTQsImV4cCI6MTc1MDcxODI5NCwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.2PlHTnFtATw7LRHxoYFjMkubF3I4tiBjD0MaQu8jBZg","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:14.321Z","method":"GET","url":"/api/assets?category=HARDWARE","headers":{"host":"127.0.0.1:44799","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5ZWFkYjU0Ni0wY2Y5LTQwYmItODYxNC05MmRjZmQwOWYyNDAiLCJvcmdhbml6YXRpb25JZCI6ImQ2MGQxNWQ2LTYwM2QtNDEwZC04Y2VmLWIzNDlmMTY2NjFlYiIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJjYzlkZTE5OThmZDA1ZTE4Mjk0MDU3MjkyNGUxYTc4My1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTQsImV4cCI6MTc1MDcxODI5NCwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.L4wR7ckR24egqb0YSrM7qeBgGfUaFeuKGgjTlODzULw","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:14.441Z","method":"GET","url":"/api/assets?search=Dell","headers":{"host":"127.0.0.1:42557","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIzMjc2NDVmZi1jNjlmLTQ2ZDItYmY2NS1mYjY2NGQ2MDZlNDkiLCJvcmdhbml6YXRpb25JZCI6ImZmMDU0ZDkwLWE5NDctNDk2YS04ZjI0LTYyNzlmMzg1OGI5OCIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJjZTMwMDk4Njk5NzExZjNiMmRiMjU2NGFlYmFlNmU2My1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTQsImV4cCI6MTc1MDcxODI5NCwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.4RAb-dajbeqGkfDTfoEynRGW5HBeCjYgCDF37NIoSfQ","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:14.555Z","method":"GET","url":"/api/assets","headers":{"host":"127.0.0.1:43225","accept-encoding":"gzip, deflate","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:100:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:14.807Z","method":"POST","url":"/api/assets","body":{"name":"Comprehensive Asset","description":"A comprehensive test asset","category":"EQUIPMENT","status":"MAINTENANCE","serialNumber":"SN123456","modelNumber":"MOD789","manufacturer":"Test Corp","purchaseDate":"2023-01-15T00:00:00.000Z","purchasePrice":1500,"warrantyExpiry":"2025-01-15T00:00:00.000Z","locationId":"312ef5d6-5ddb-4201-9535-7198fd650bdd","assetTemplateId":"36ec6a50-2615-4eff-bee8-f5f424ece3ba","customFields":{"color":"blue","weight":"2kg"},"tags":["important","new"],"qrCode":"QR123456","link":"https://example.com/asset"},"headers":{"host":"127.0.0.1:36439","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkMTAzMWY2ZC1kMzhlLTQ3Y2YtYTRkYy00NmYzNzFhZTQyYTciLCJvcmdhbml6YXRpb25JZCI6IjU0YmYyZTE4LWEwMTctNGQwMy1iYTUzLTZkYTIxM2M2MWE1OCIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJjZTM2MjNhZWYxNDliNTY0ZDIxNWFkMWIwMzEyNjIwMy1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTQsImV4cCI6MTc1MDcxODI5NCwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.mqynfhzVOUL1dsOodm_UU4QZPoR1Uv_eofoVbUjdDO4","content-type":"application/json","content-length":"540","connection":"close"},"error":{"message":"Asset category must match template category","stack":"ConflictError: Asset category must match template category\n    at AssetService.createAsset (/home/topher/repos/asset-manager/backend/src/services/asset.service.ts:217:15)\n    at async /home/topher/repos/asset-manager/backend/src/routes/assets.ts:248:21","name":"ConflictError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/assets.ts:268:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:14.922Z","method":"POST","url":"/api/assets","body":{},"headers":{"host":"127.0.0.1:45669","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI3ZWVlNjFmOS0zNjg3LTQ0MjMtYjZlYS1lMjRmODJjZjFiOWEiLCJvcmdhbml6YXRpb25JZCI6IjYxZDMyYmU3LTIzN2QtNGVlNy05NzA2LTQ1YjAyMWZhYTRhMyIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJiZDA3MGE5Mzg1ZTJiOTE5MjE4NDRhM2YxOGQxMTRmMC1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTQsImV4cCI6MTc1MDcxODI5NCwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.jmHsGBx2hI37HDUozpG3iMpza6ocirK0ZSE7jEf7yyo","content-type":"application/json","content-length":"2","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:15.033Z","method":"POST","url":"/api/assets","body":{"name":"Invalid Asset","category":"INVALID_CATEGORY"},"headers":{"host":"127.0.0.1:42805","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJlMWY3MGQ3ZS01YzQ1LTQ5ZGItYWI2NS1iZTIwMGEwMGI5NDYiLCJvcmdhbml6YXRpb25JZCI6IjJmZWQ5ZjFjLTQ2Y2MtNDA3Ny1hZTFjLTA2M2QyMjA3YjU3OSIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJlYWE1ZDU3YjE0MmZhZjJkNTdkZjlmNmExZGU0MzdhMS1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTUsImV4cCI6MTc1MDcxODI5NSwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.cxN7d1bsR487VTq0AKTMqtAcJABwqdRqvlgKEYDzAJI","content-type":"application/json","content-length":"54","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:15.149Z","method":"POST","url":"/api/assets","body":{"name":"Test"},"headers":{"host":"127.0.0.1:35377","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"15","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:15.376Z","method":"GET","url":"/api/assets/123e4567-e89b-12d3-a456-426614174000","headers":{"host":"127.0.0.1:38901","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIyMDc5ZDg3OC01NmE2LTQ0ZTQtYjUzMy1iMjRkNjdjNDFlY2IiLCJvcmdhbml6YXRpb25JZCI6ImJhZDM2MzVkLTliMTQtNDFlMC05YzhhLWIzYjUzZGI5MmVlOCIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiI5N2Q3OWZlYmU0YTg0YTQ3NTYyN2RlNDk2MTkyN2VkNi1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTUsImV4cCI6MTc1MDcxODI5NSwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.QwmTAdF8BY6Hv9yK9KoUIanEAy5Lt2cunCu4iUXF7dk","connection":"close"},"error":{"message":"Asset not found not found","stack":"NotFoundError: Asset not found not found\n    at /home/topher/repos/asset-manager/backend/src/routes/assets.ts:311:15","name":"NotFoundError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/assets.ts:316:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:15.484Z","method":"GET","url":"/api/assets/invalid-id","headers":{"host":"127.0.0.1:41183","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5NTRjMDBmNy02MTlmLTQ5MGItOGUwNy0yOGEyZDBlZTE1MGEiLCJvcmdhbml6YXRpb25JZCI6ImFlNjcxY2U5LTFmZDMtNDdhMC1hNjE2LTBiMWVkYzMyYmIzZSIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJlZmVmOTNmMDY5NTQyNDQxNDE3NDBiYWUzMmYyN2Y2Mi1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTUsImV4cCI6MTc1MDcxODI5NSwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.rUjvl9x7xBJAXDcY7vVtAu2HmkywKkYptsV0GYeUPSs","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:600:14)\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:610:14)\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:664:3)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at param (../node_modules/router/index.js:600:14)
      at param (../node_modules/router/index.js:610:14)
      at processParams (../node_modules/router/index.js:664:3)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:15.595Z","method":"GET","url":"/api/assets/75df5883-ffd7-4469-95db-9d8bc14437b3","headers":{"host":"127.0.0.1:36285","accept-encoding":"gzip, deflate","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:100:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:15.835Z","method":"PUT","url":"/api/assets/123e4567-e89b-12d3-a456-426614174000","body":{"name":"Updated"},"headers":{"host":"127.0.0.1:45025","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIzNGU0YjZlMS03OTIxLTQ5MzMtODVmYS1hOWRiYTk5YjliMjgiLCJvcmdhbml6YXRpb25JZCI6IjUyMWE1ZWRlLTc3OGQtNDFmOC04ZTUyLWY0MWE5OWJlZjBhOCIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiIyOTQ5Y2E0NDA1Mzg2MDU4MGMwZDI5ZjExMzU1MGJjNS1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTUsImV4cCI6MTc1MDcxODI5NSwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.NuXgCeAVvyxaerb9hHCi1nDc2aMt1VZ92WQsY5yrtiM","content-type":"application/json","content-length":"18","connection":"close"},"error":{"message":"Asset not found","stack":"NotFoundError: Asset not found\n    at AssetService.updateAsset (/home/topher/repos/asset-manager/backend/src/services/asset.service.ts:379:13)\n    at async /home/topher/repos/asset-manager/backend/src/routes/assets.ts:364:21","name":"NotFoundError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/assets.ts:376:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:15.947Z","method":"PUT","url":"/api/assets/44b87c2d-bf92-4ca7-9161-c2f4fab3ae82","body":{"name":"Updated"},"headers":{"host":"127.0.0.1:37697","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"18","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:16.070Z","method":"GET","url":"/api/assets/cf2e3065-d905-4cf8-afa7-19a8a474b1f1","headers":{"host":"127.0.0.1:40463","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI4ODYyODgyZS1hZDk0LTQ3MjMtYTcyOS1jODJkNjA3NzcxZTQiLCJvcmdhbml6YXRpb25JZCI6ImZkZTJkMDIxLTA1YTAtNGJjMC1iM2MwLWIxOGVmYmM3ZmI1ZSIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJmYjQ5ZWVjMTZmMzZkYTI5MGQyY2Y5MTQ4YzQ2MjFjYi1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTYsImV4cCI6MTc1MDcxODI5NiwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.FabZeiYYHTJ0mofiaWB21a4KIz4vuIL6PftBoqp72ps","connection":"close"},"error":{"message":"Asset not found not found","stack":"NotFoundError: Asset not found not found\n    at /home/topher/repos/asset-manager/backend/src/routes/assets.ts:311:15","name":"NotFoundError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/assets.ts:316:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:16.183Z","method":"DELETE","url":"/api/assets/123e4567-e89b-12d3-a456-426614174000","headers":{"host":"127.0.0.1:37043","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjNzExNjUwNS0xYmI2LTRmZDAtOTAyZC05MzRlOTVlYTU3OWUiLCJvcmdhbml6YXRpb25JZCI6ImEyODZiNjA0LWU4MmYtNGI3Ni1iZTQ1LTdmNzg5NmViMGJjZSIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiIxODU3OTMwNGI2MWIwMzA0MTE2MmM5MTAzMDEzYmYzMS1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTYsImV4cCI6MTc1MDcxODI5NiwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.ib0ny6_JViwPMkMvdzTyLI50kTCc_-Xp51z2tRSvAXU","connection":"close"},"error":{"message":"Asset not found","stack":"NotFoundError: Asset not found\n    at AssetService.deleteAsset (/home/topher/repos/asset-manager/backend/src/services/asset.service.ts:568:13)\n    at async /home/topher/repos/asset-manager/backend/src/routes/assets.ts:419:7","name":"NotFoundError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/assets.ts:422:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:16.298Z","method":"DELETE","url":"/api/assets/8e532b9a-148a-41d7-8e2d-9621f13f0a9a","headers":{"host":"127.0.0.1:45323","accept-encoding":"gzip, deflate","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:100:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:16.538Z","method":"POST","url":"/api/assets/ec37bddd-b14a-4e5a-a867-21e4eafb78a2/files","headers":{"host":"127.0.0.1:43899","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJlNjZlOWQ5Yi02MjkzLTRmMTMtODA0MC1kMDE4NTgzY2VhY2IiLCJvcmdhbml6YXRpb25JZCI6IjQ1NGY1Y2VlLWRmNzktNDQxNS1iYjM1LTRjZGFiNWEyMGZkNiIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiIyYzBlNjFkZWY5YmMzZjJjMjhiM2ZlNTNmMGRmOGEwNy1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTYsImV4cCI6MTc1MDcxODI5NiwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.y-6ylfCMM6tpJxyTFwpd7JvTmgTzed_4HAwRCuPM4bo","connection":"close","content-length":"0"},"error":{"message":"Cannot read properties of undefined (reading 'attachmentType')","stack":"TypeError: Cannot read properties of undefined (reading 'attachmentType')\n    at /home/topher/repos/asset-manager/backend/src/routes/assets.ts:478:15\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at multerMiddleware (/home/topher/repos/asset-manager/node_modules/multer/lib/make-middleware.js:19:41)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:31:7\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:600:14)\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:610:14)\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:664:3)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/assets.ts:521:7
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at multerMiddleware (../node_modules/multer/lib/make-middleware.js:19:41)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/validation.ts:31:7
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at param (../node_modules/router/index.js:600:14)
      at param (../node_modules/router/index.js:610:14)
      at processParams (../node_modules/router/index.js:664:3)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:16.652Z","method":"POST","url":"/api/assets/123e4567-e89b-12d3-a456-426614174000/files","body":{},"headers":{"host":"127.0.0.1:43125","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJiMzllMjJjNS0zYjgwLTQxOTktODIyMS0wODlkNzQxY2Y3Y2MiLCJvcmdhbml6YXRpb25JZCI6IjhmNzU0MmNkLTZlN2UtNDVkOS05MDAyLTBiMmMwOTdkM2IzYSIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJhZjJjYWVlMjRiZmY1ZGFhMzk1ZmU5ZmZmYmUzMzNhMy1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTYsImV4cCI6MTc1MDcxODI5NiwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.HnaZkdPHQQqc36fs3ebqq-QlZwJK3RR6FtwtLE4J9tE","content-type":"multipart/form-data; boundary=--------------------------106710958038645863657235","content-length":"210","connection":"close"},"error":{"message":"Asset not found not found","stack":"NotFoundError: Asset not found not found\n    at /home/topher/repos/asset-manager/backend/src/routes/assets.ts:487:15","name":"NotFoundError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/assets.ts:521:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:16.763Z","method":"POST","url":"/api/assets/f0766f76-b4d7-4c03-bbd5-af1579a3c495/files","headers":{"host":"127.0.0.1:34761","accept-encoding":"gzip, deflate","content-type":"multipart/form-data; boundary=--------------------------825051728732320180065629","content-length":"210","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:109:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:109:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:16.890Z","method":"GET","url":"/api/assets/tree","headers":{"host":"127.0.0.1:44029","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkMjc2YTg3Zi0xZjcxLTQxZDAtYWI4OS1hNmZkNjY0NDZjN2IiLCJvcmdhbml6YXRpb25JZCI6ImEyYTgwY2RlLWIzOTgtNDIwMC1hN2E5LTk1MGI3ZGFiN2MzNSIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiI5ODE2ZGE3NTYyY2RiMmQ4N2M1Zjg2OTUzY2I5MTIzZC1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTYsImV4cCI6MTc1MDcxODI5NiwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.vSHFFLgFAan_Q44YwwJf4WhhrgIaUvq33yZsaqm9hs8","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:600:14)\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:610:14)\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:664:3)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at param (../node_modules/router/index.js:600:14)
      at param (../node_modules/router/index.js:610:14)
      at processParams (../node_modules/router/index.js:664:3)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.000Z","method":"GET","url":"/api/assets/tree","headers":{"host":"127.0.0.1:33357","accept-encoding":"gzip, deflate","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:100:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.122Z","method":"GET","url":"/api/assets/stats","headers":{"host":"127.0.0.1:44789","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI0MzJhOTE3OS01YjY5LTQ4MzktYjY0Ni05ZWQ1NDY5ZDYyMjQiLCJvcmdhbml6YXRpb25JZCI6IjhkY2I2ZjY0LTIyYzEtNDc3OS1iYzE0LTQyMWE5OTk3MWRiNyIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJhMDhmN2I0NTA2NjUxZWNmZTRkNGVkYzAxOWRiOThhYi1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTcsImV4cCI6MTc1MDcxODI5NywiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.jDorf-J3obCbk3Q9Rrfae1nZNBaqYkHO8KcVYic5WB0","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:600:14)\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:610:14)\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:664:3)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at param (../node_modules/router/index.js:600:14)
      at param (../node_modules/router/index.js:610:14)
      at processParams (../node_modules/router/index.js:664:3)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.239Z","method":"GET","url":"/api/assets/stats","headers":{"host":"127.0.0.1:32907","accept-encoding":"gzip, deflate","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:100:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.368Z","method":"GET","url":"/api/assets/55ddb1dd-4a09-4322-90a6-d5b30502b210","headers":{"host":"127.0.0.1:45819","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI0YjdhNGU1Zi05MDNhLTRjNzktYjAzMi0wODVkMDIwNTJmNjEiLCJvcmdhbml6YXRpb25JZCI6ImMwMzA3Y2ZkLWY5NTctNGJjOS1hYmNmLWE4MTBhZmM1YTNmNCIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiI5OTA5ODdkNWY3ZmUwMjEzZjgwOGVjNmM5YjZiMzkyMi1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTcsImV4cCI6MTc1MDcxODI5NywiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.MdtTepnZDeNH7Mya8dZnPnuPt4xDyu-wgMRDWmBkUKY","connection":"close"},"error":{"message":"Asset not found not found","stack":"NotFoundError: Asset not found not found\n    at /home/topher/repos/asset-manager/backend/src/routes/assets.ts:311:15","name":"NotFoundError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/assets.ts:316:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.372Z","method":"GET","url":"/api/assets/1b931ab4-8f18-47d3-b9ad-a6db809355b3","headers":{"host":"127.0.0.1:39715","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI0YjdhNGU1Zi05MDNhLTRjNzktYjAzMi0wODVkMDIwNTJmNjEiLCJvcmdhbml6YXRpb25JZCI6ImMwMzA3Y2ZkLWY5NTctNGJjOS1hYmNmLWE4MTBhZmM1YTNmNCIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiI5OTA5ODdkNWY3ZmUwMjEzZjgwOGVjNmM5YjZiMzkyMi1hY2Nlc3MiLCJpYXQiOjE3NTA3MTczOTcsImV4cCI6MTc1MDcxODI5NywiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.MdtTepnZDeNH7Mya8dZnPnuPt4xDyu-wgMRDWmBkUKY","connection":"close"},"error":{"message":"Asset not found not found","stack":"NotFoundError: Asset not found not found\n    at /home/topher/repos/asset-manager/backend/src/routes/assets.ts:311:15","name":"NotFoundError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/assets.ts:316:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.612Z","method":"POST","url":"/api/assets/bulk","body":{"assetIds":[],"operation":"delete"},"headers":{"host":"127.0.0.1:46865","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"36","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

FAIL integration src/test/integration/asset.api.test.ts
  Asset API Integration Tests
    GET /api/assets
      ✕ should return paginated list of assets (166 ms)
      ✕ should filter assets by category (123 ms)
      ✕ should search assets by name (119 ms)
      ✓ should require authentication (118 ms)
    POST /api/assets
      ✓ should create new asset with minimum required fields (130 ms)
      ✕ should create asset with all optional fields (118 ms)
      ✕ should validate required fields (114 ms)
      ✕ should validate enum values (116 ms)
      ✓ should require authentication (110 ms)
    GET /api/assets/:assetId
      ✓ should return specific asset by ID (113 ms)
      ✓ should return 404 for non-existent asset (113 ms)
      ✓ should return 400 for invalid UUID (108 ms)
      ✓ should require authentication (116 ms)
    PUT /api/assets/:assetId
      ✓ should update asset fields (120 ms)
      ✓ should return 404 for non-existent asset (115 ms)
      ✓ should require authentication (112 ms)
    DELETE /api/assets/:assetId
      ✓ should delete asset (122 ms)
      ✓ should return 404 for non-existent asset (112 ms)
      ✓ should require authentication (117 ms)
    POST /api/assets/:assetId/files
      ✓ should upload file to asset (123 ms)
      ✕ should require file upload (115 ms)
      ✓ should return 404 for non-existent asset (114 ms)
      ✓ should require authentication (115 ms)
    GET /api/assets/tree
      ✕ should return hierarchical asset tree (123 ms)
      ✓ should require authentication (111 ms)
    GET /api/assets/stats
      ✕ should return asset statistics (127 ms)
      ✓ should require authentication (111 ms)
    POST /api/assets/bulk
      ✓ should perform bulk delete operation (132 ms)
      ✓ should perform bulk status update (125 ms)
      ✓ should require authentication (114 ms)

  ● Asset API Integration Tests › GET /api/assets › should return paginated list of assets

    expected 200 "OK", got 500 "Internal Server Error"

      104 |         .get('/api/assets')
      105 |         .set('Authorization', `Bearer ${authToken}`)
    > 106 |         .expect(200);
          |          ^
      107 |
      108 |       expect(response.body.assets).toHaveLength(2);
      109 |       expect(response.body.total).toBe(2);

      at Object.<anonymous> (src/test/integration/asset.api.test.ts:106:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Asset API Integration Tests › GET /api/assets › should filter assets by category

    expected 200 "OK", got 500 "Internal Server Error"

      142 |         .get('/api/assets?category=HARDWARE')
      143 |         .set('Authorization', `Bearer ${authToken}`)
    > 144 |         .expect(200);
          |          ^
      145 |
      146 |       expect(response.body.assets).toHaveLength(1);
      147 |       expect(response.body.assets[0].name).toBe('Hardware Asset');

      at Object.<anonymous> (src/test/integration/asset.api.test.ts:144:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Asset API Integration Tests › GET /api/assets › should search assets by name

    expected 200 "OK", got 500 "Internal Server Error"

      167 |         .get('/api/assets?search=Dell')
      168 |         .set('Authorization', `Bearer ${authToken}`)
    > 169 |         .expect(200);
          |          ^
      170 |
      171 |       expect(response.body.assets).toHaveLength(1);
      172 |       expect(response.body.assets[0].name).toBe('Laptop Dell XPS');

      at Object.<anonymous> (src/test/integration/asset.api.test.ts:169:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Asset API Integration Tests › POST /api/assets › should create asset with all optional fields

    expected 201 "Created", got 409 "Conflict"

      225 |         .set('Authorization', `Bearer ${authToken}`)
      226 |         .send(assetData)
    > 227 |         .expect(201);
          |          ^
      228 |
      229 |       expect(response.body.name).toBe('Comprehensive Asset');
      230 |       expect(response.body.description).toBe('A comprehensive test asset');

      at Object.<anonymous> (src/test/integration/asset.api.test.ts:227:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Asset API Integration Tests › POST /api/assets › should validate required fields

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: undefined

      244 |         .expect(400);
      245 |
    > 246 |       expect(response.body.message).toContain('validation');
          |                                     ^
      247 |     });
      248 |
      249 |     test('should validate enum values', async () => {

      at Object.<anonymous> (src/test/integration/asset.api.test.ts:246:37)

  ● Asset API Integration Tests › POST /api/assets › should validate enum values

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: undefined

      259 |         .expect(400);
      260 |
    > 261 |       expect(response.body.message).toContain('validation');
          |                                     ^
      262 |     });
      263 |
      264 |     test('should require authentication', async () => {

      at Object.<anonymous> (src/test/integration/asset.api.test.ts:261:37)

  ● Asset API Integration Tests › POST /api/assets/:assetId/files › should require file upload

    expected 400 "Bad Request", got 500 "Internal Server Error"

      445 |         .post(`/api/assets/${asset.id}/files`)
      446 |         .set('Authorization', `Bearer ${authToken}`)
    > 447 |         .expect(400);
          |          ^
      448 |     });
      449 |
      450 |     test('should return 404 for non-existent asset', async () => {

      at Object.<anonymous> (src/test/integration/asset.api.test.ts:447:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Asset API Integration Tests › GET /api/assets/tree › should return hierarchical asset tree

    expected 200 "OK", got 400 "Bad Request"

      500 |         .get('/api/assets/tree')
      501 |         .set('Authorization', `Bearer ${authToken}`)
    > 502 |         .expect(200);
          |          ^
      503 |
      504 |       expect(Array.isArray(response.body)).toBe(true);
      505 |

      at Object.<anonymous> (src/test/integration/asset.api.test.ts:502:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Asset API Integration Tests › GET /api/assets/stats › should return asset statistics

    expected 200 "OK", got 400 "Bad Request"

      548 |         .get('/api/assets/stats')
      549 |         .set('Authorization', `Bearer ${authToken}`)
    > 550 |         .expect(200);
          |          ^
      551 |
      552 |       expect(response.body.total).toBe(3);
      553 |       expect(response.body.byCategory).toBeDefined();

      at Object.<anonymous> (src/test/integration/asset.api.test.ts:550:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.895Z","method":"POST","url":"/api/tasks","body":{"description":"Task without title"},"headers":{"host":"127.0.0.1:34937","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","content-type":"application/json","content-length":"36","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.905Z","method":"POST","url":"/api/tasks","body":{"title":"Unauthorized Task","dueDate":"2025-06-23T22:23:17.904Z"},"headers":{"host":"127.0.0.1:46383","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"66","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.915Z","method":"GET","url":"/api/tasks?page=1&limit=2","headers":{"host":"127.0.0.1:32905","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.926Z","method":"GET","url":"/api/tasks?status=PLANNED","headers":{"host":"127.0.0.1:41865","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.937Z","method":"GET","url":"/api/tasks?priority=HIGH","headers":{"host":"127.0.0.1:45675","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.948Z","method":"GET","url":"/api/tasks?isOverdue=true","headers":{"host":"127.0.0.1:35075","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.958Z","method":"GET","url":"/api/tasks?assetId=e6180017-3255-41ba-af27-ab2587cc5dbf","headers":{"host":"127.0.0.1:40561","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.973Z","method":"GET","url":"/api/tasks?sortBy=dueDate&sortOrder=asc","headers":{"host":"127.0.0.1:39407","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:17.997Z","method":"GET","url":"/api/tasks/550e8400-e29b-41d4-a716-446655440000","headers":{"host":"127.0.0.1:37223","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Task not found not found","stack":"NotFoundError: Task not found not found\n    at /home/topher/repos/asset-manager/backend/src/routes/tasks.ts:359:15","name":"NotFoundError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/tasks.ts:364:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.008Z","method":"GET","url":"/api/tasks/invalid-id","headers":{"host":"127.0.0.1:44949","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:600:14)\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:610:14)\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:664:3)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at param (../node_modules/router/index.js:600:14)
      at param (../node_modules/router/index.js:610:14)
      at processParams (../node_modules/router/index.js:664:3)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.038Z","method":"PUT","url":"/api/tasks/0f012c5e-2e53-485e-8bfd-deb24821a68b","body":{"status":"PLANNED"},"headers":{"host":"127.0.0.1:36411","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","content-type":"application/json","content-length":"20","connection":"close"},"error":{"message":"Invalid status transition from DONE to PLANNED","stack":"ConflictError: Invalid status transition from DONE to PLANNED\n    at TaskService.updateTask (/home/topher/repos/asset-manager/backend/src/services/task.service.ts:464:15)\n    at async /home/topher/repos/asset-manager/backend/src/routes/tasks.ts:408:20","name":"ConflictError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/tasks.ts:415:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.049Z","method":"PUT","url":"/api/tasks/550e8400-e29b-41d4-a716-446655440000","body":{"title":"Updated Title"},"headers":{"host":"127.0.0.1:44791","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","content-type":"application/json","content-length":"25","connection":"close"},"error":{"message":"Task not found not found","stack":"NotFoundError: Task not found not found\n    at TaskService.updateTask (/home/topher/repos/asset-manager/backend/src/services/task.service.ts:445:13)\n    at async /home/topher/repos/asset-manager/backend/src/routes/tasks.ts:408:20","name":"NotFoundError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/tasks.ts:415:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.084Z","method":"DELETE","url":"/api/tasks/550e8400-e29b-41d4-a716-446655440000","headers":{"host":"127.0.0.1:40789","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Task not found not found","stack":"NotFoundError: Task not found not found\n    at TaskService.deleteTask (/home/topher/repos/asset-manager/backend/src/services/task.service.ts:577:13)\n    at async /home/topher/repos/asset-manager/backend/src/routes/tasks.ts:452:7","name":"NotFoundError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/tasks.ts:455:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.170Z","method":"POST","url":"/api/tasks/a6409776-018f-4cec-8668-dfe5faf783be/comments","body":{"content":""},"headers":{"host":"127.0.0.1:39031","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","content-type":"application/json","content-length":"14","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:600:14)\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:610:14)\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:664:3)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at param (../node_modules/router/index.js:600:14)
      at param (../node_modules/router/index.js:610:14)
      at processParams (../node_modules/router/index.js:664:3)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.181Z","method":"POST","url":"/api/tasks/550e8400-e29b-41d4-a716-446655440000/comments","body":{"content":"Comment for fake task"},"headers":{"host":"127.0.0.1:44651","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","content-type":"application/json","content-length":"35","connection":"close"},"error":{"message":"Task not found not found","stack":"NotFoundError: Task not found not found\n    at TaskService.addTaskComment (/home/topher/repos/asset-manager/backend/src/services/task.service.ts:861:13)\n    at async /home/topher/repos/asset-manager/backend/src/routes/tasks.ts:649:23","name":"NotFoundError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/tasks.ts:657:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.194Z","method":"GET","url":"/api/tasks/5e9a8353-ce9b-4ef4-8da5-922c420b8cf2/comments?page=1&limit=2","headers":{"host":"127.0.0.1:35015","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:600:14)\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:610:14)\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:664:3)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at param (../node_modules/router/index.js:600:14)
      at param (../node_modules/router/index.js:610:14)
      at processParams (../node_modules/router/index.js:664:3)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.211Z","method":"GET","url":"/api/tasks/27106bc3-4747-4c23-80bc-909b9b83e95d/comments","headers":{"host":"127.0.0.1:40165","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:600:14)\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:610:14)\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:664:3)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at param (../node_modules/router/index.js:600:14)
      at param (../node_modules/router/index.js:610:14)
      at processParams (../node_modules/router/index.js:664:3)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.267Z","method":"GET","url":"/api/tasks/stats","headers":{"host":"127.0.0.1:38017","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:600:14)\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:610:14)\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:664:3)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at param (../node_modules/router/index.js:600:14)
      at param (../node_modules/router/index.js:610:14)
      at processParams (../node_modules/router/index.js:664:3)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.280Z","method":"GET","url":"/api/tasks/overdue","headers":{"host":"127.0.0.1:46709","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NmI3NzAzYi05MDQ1LTQ2ZjgtYTg1OC02NGJjYWMyZmNkNzAiLCJvcmdhbml6YXRpb25JZCI6ImMyN2UyM2M2LTIwNTktNDQ1ZS05M2RmLTUyZGQ3ZWQ1NzljZSIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6IjNlYWVkOTBhOGVjYzJjMjk4NjYxNDgzNzhjMDc1YmUyLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5NywiZXhwIjoxNzUwNzE4Mjk3LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.6y7dSl14tY0EYi6tvDvRMIVbsPfVWq17ndgqAlAYGG8","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:600:14)\n    at param (/home/topher/repos/asset-manager/node_modules/router/index.js:610:14)\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:664:3)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at param (../node_modules/router/index.js:600:14)
      at param (../node_modules/router/index.js:610:14)
      at processParams (../node_modules/router/index.js:664:3)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

FAIL integration src/test/integration/tasks.api.test.ts
  Tasks API Integration Tests
    POST /api/tasks
      ✓ should create a task successfully (40 ms)
      ✓ should create a task without optional fields (19 ms)
      ✓ should reject task creation with missing required fields (13 ms)
      ✓ should reject task creation without authentication (5 ms)
    GET /api/tasks
      ✕ should list tasks with pagination (11 ms)
      ✕ should filter tasks by status (11 ms)
      ✕ should filter tasks by priority (11 ms)
      ✕ should filter overdue tasks (10 ms)
      ✕ should filter tasks by asset (9 ms)
      ✕ should sort tasks by dueDate (16 ms)
    GET /api/tasks/:taskId
      ✓ should get task by ID (13 ms)
      ✓ should return 404 for non-existent task (11 ms)
      ✓ should return 400 for invalid task ID format (10 ms)
    PUT /api/tasks/:taskId
      ✓ should update task successfully (16 ms)
      ✓ should reject invalid status transitions (14 ms)
      ✓ should return 404 for non-existent task (17 ms)
    DELETE /api/tasks/:taskId
      ✓ should delete task successfully (18 ms)
      ✓ should return 404 for non-existent task (11 ms)
    PUT /api/tasks/:taskId/assign
      ✓ should assign users to task (37 ms)
      ✕ should replace existing assignments (13 ms)
      ✕ should handle empty assignment list (8 ms)
    Task Comments API
      POST /api/tasks/:taskId/comments
        ✓ should add comment to task (15 ms)
        ✓ should reject empty comment (11 ms)
        ✓ should reject comment for non-existent task (10 ms)
      GET /api/tasks/:taskId/comments
        ✕ should get task comments with pagination (15 ms)
        ✕ should return comments in descending order by creation date (15 ms)
    Bulk Operations
      PATCH /api/tasks/bulk/status
        ✓ should update status for multiple tasks (27 ms)
        ✓ should handle mixed success and failure (18 ms)
    Statistics and Special Endpoints
      GET /api/tasks/stats
        ✕ should get task statistics (10 ms)
      GET /api/tasks/overdue
        ✕ should get overdue tasks (13 ms)

  ● Tasks API Integration Tests › GET /api/tasks › should list tasks with pagination

    expected 200 "OK", got 500 "Internal Server Error"

      199 |         .set('Authorization', `Bearer ${authToken}`)
      200 |         .query({ page: 1, limit: 2 })
    > 201 |         .expect(200);
          |          ^
      202 |
      203 |       expect(response.body.tasks).toHaveLength(2);
      204 |       expect(response.body.total).toBe(3);

      at Object.<anonymous> (src/test/integration/tasks.api.test.ts:201:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Tasks API Integration Tests › GET /api/tasks › should filter tasks by status

    expected 200 "OK", got 500 "Internal Server Error"

      212 |         .set('Authorization', `Bearer ${authToken}`)
      213 |         .query({ status: 'PLANNED' })
    > 214 |         .expect(200);
          |          ^
      215 |
      216 |       expect(response.body.tasks).toHaveLength(2);
      217 |       response.body.tasks.forEach((task: Task) => {

      at Object.<anonymous> (src/test/integration/tasks.api.test.ts:214:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Tasks API Integration Tests › GET /api/tasks › should filter tasks by priority

    expected 200 "OK", got 500 "Internal Server Error"

      225 |         .set('Authorization', `Bearer ${authToken}`)
      226 |         .query({ priority: 'HIGH' })
    > 227 |         .expect(200);
          |          ^
      228 |
      229 |       expect(response.body.tasks).toHaveLength(2);
      230 |       response.body.tasks.forEach((task: Task) => {

      at Object.<anonymous> (src/test/integration/tasks.api.test.ts:227:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Tasks API Integration Tests › GET /api/tasks › should filter overdue tasks

    expected 200 "OK", got 500 "Internal Server Error"

      238 |         .set('Authorization', `Bearer ${authToken}`)
      239 |         .query({ isOverdue: 'true' })
    > 240 |         .expect(200);
          |          ^
      241 |
      242 |       expect(response.body.tasks).toHaveLength(1);
      243 |       expect(response.body.tasks[0].title).toBe('Overdue Task');

      at Object.<anonymous> (src/test/integration/tasks.api.test.ts:240:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Tasks API Integration Tests › GET /api/tasks › should filter tasks by asset

    expected 200 "OK", got 500 "Internal Server Error"

      249 |         .set('Authorization', `Bearer ${authToken}`)
      250 |         .query({ assetId: testAsset.id })
    > 251 |         .expect(200);
          |          ^
      252 |
      253 |       expect(response.body.tasks).toHaveLength(1);
      254 |       expect(response.body.tasks[0].assetId).toBe(testAsset.id);

      at Object.<anonymous> (src/test/integration/tasks.api.test.ts:251:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Tasks API Integration Tests › GET /api/tasks › should sort tasks by dueDate

    expected 200 "OK", got 500 "Internal Server Error"

      260 |         .set('Authorization', `Bearer ${authToken}`)
      261 |         .query({ sortBy: 'dueDate', sortOrder: 'asc' })
    > 262 |         .expect(200);
          |          ^
      263 |
      264 |       expect(response.body.tasks).toHaveLength(3);
      265 |       const dueDates = response.body.tasks.map((task: Task) => new Date(task.dueDate));

      at Object.<anonymous> (src/test/integration/tasks.api.test.ts:262:10)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Tasks API Integration Tests › PUT /api/tasks/:taskId/assign › should replace existing assignments

    PrismaClientKnownRequestError: 
    Invalid `dbHelper.getPrisma().user.create()` invocation in
    /home/topher/repos/asset-manager/backend/src/test/integration/tasks.api.test.ts:440:53

      437 });
      438 
      439 // Create another user for assignment testing
    → 440 anotherUser = await dbHelper.getPrisma().user.create(
    Unique constraint failed on the fields: (`email`)

      438 |
      439 |       // Create another user for assignment testing
    > 440 |       anotherUser = await dbHelper.getPrisma().user.create({
          |                     ^
      441 |         data: {
      442 |           email: 'another@test.com',
      443 |           passwordHash: 'hashedpassword',

      at Zn.handleRequestError (../node_modules/@prisma/client/runtime/library.js:121:7459)
      at Zn.handleAndLogRequestError (../node_modules/@prisma/client/runtime/library.js:121:6784)
      at Zn.request (../node_modules/@prisma/client/runtime/library.js:121:6491)
      at async l (../node_modules/@prisma/client/runtime/library.js:130:9778)
      at async Object.<anonymous> (src/test/integration/tasks.api.test.ts:440:21)

  ● Tasks API Integration Tests › PUT /api/tasks/:taskId/assign › should handle empty assignment list

    PrismaClientKnownRequestError: 
    Invalid `dbHelper.getPrisma().user.create()` invocation in
    /home/topher/repos/asset-manager/backend/src/test/integration/tasks.api.test.ts:440:53

      437 });
      438 
      439 // Create another user for assignment testing
    → 440 anotherUser = await dbHelper.getPrisma().user.create(
    Unique constraint failed on the fields: (`email`)

      438 |
      439 |       // Create another user for assignment testing
    > 440 |       anotherUser = await dbHelper.getPrisma().user.create({
          |                     ^
      441 |         data: {
      442 |           email: 'another@test.com',
      443 |           passwordHash: 'hashedpassword',

      at Zn.handleRequestError (../node_modules/@prisma/client/runtime/library.js:121:7459)
      at Zn.handleAndLogRequestError (../node_modules/@prisma/client/runtime/library.js:121:6784)
      at Zn.request (../node_modules/@prisma/client/runtime/library.js:121:6491)
      at async l (../node_modules/@prisma/client/runtime/library.js:130:9778)
      at async Object.<anonymous> (src/test/integration/tasks.api.test.ts:440:21)

  ● Tasks API Integration Tests › Task Comments API › GET /api/tasks/:taskId/comments › should get task comments with pagination

    expected 200 "OK", got 500 "Internal Server Error"

      581 |           .set('Authorization', `Bearer ${authToken}`)
      582 |           .query({ page: 1, limit: 2 })
    > 583 |           .expect(200);
          |            ^
      584 |
      585 |         expect(response.body.comments).toHaveLength(2);
      586 |         expect(response.body.total).toBe(3);

      at Object.<anonymous> (src/test/integration/tasks.api.test.ts:583:12)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Tasks API Integration Tests › Task Comments API › GET /api/tasks/:taskId/comments › should return comments in descending order by creation date

    expected 200 "OK", got 500 "Internal Server Error"

      593 |           .get(`/api/tasks/${testTask.id}/comments`)
      594 |           .set('Authorization', `Bearer ${authToken}`)
    > 595 |           .expect(200);
          |            ^
      596 |
      597 |         expect(response.body.comments).toHaveLength(3);
      598 |         const createdDates = response.body.comments.map((c: any) => new Date(c.createdAt));

      at Object.<anonymous> (src/test/integration/tasks.api.test.ts:595:12)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Tasks API Integration Tests › Statistics and Special Endpoints › GET /api/tasks/stats › should get task statistics

    expected 200 "OK", got 400 "Bad Request"

      713 |           .get('/api/tasks/stats')
      714 |           .set('Authorization', `Bearer ${authToken}`)
    > 715 |           .expect(200);
          |            ^
      716 |
      717 |         expect(response.body).toMatchObject({
      718 |           total: 3,

      at Object.<anonymous> (src/test/integration/tasks.api.test.ts:715:12)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

  ● Tasks API Integration Tests › Statistics and Special Endpoints › GET /api/tasks/overdue › should get overdue tasks

    expected 200 "OK", got 400 "Bad Request"

      738 |           .get('/api/tasks/overdue')
      739 |           .set('Authorization', `Bearer ${authToken}`)
    > 740 |           .expect(200);
          |            ^
      741 |
      742 |         expect(response.body).toHaveLength(1);
      743 |         expect(response.body[0].title).toBe('Overdue Task');

      at Object.<anonymous> (src/test/integration/tasks.api.test.ts:740:12)
      ----
      at Test._assertStatus (../node_modules/supertest/lib/test.js:267:14)
      at ../node_modules/supertest/lib/test.js:323:13
      at Test._assertFunction (../node_modules/supertest/lib/test.js:300:13)
      at Test.assert (../node_modules/supertest/lib/test.js:179:23)
      at Server.localAssert (../node_modules/supertest/lib/test.js:135:14)

FAIL integration src/test/e2e/task-lifecycle.test.ts
  Task Lifecycle E2E Test
    Task Creation and Management
      ✕ should create a task and verify its lifecycle (4 ms)
      ✕ should handle task assignments (44 ms)
      ✕ should handle bulk operations (2 ms)
      ✕ should filter and search tasks (2 ms)

  ● Task Lifecycle E2E Test › Task Creation and Management › should create a task and verify its lifecycle

    connect ECONNREFUSED 127.0.0.1:3001



  ● Task Lifecycle E2E Test › Task Creation and Management › should handle task assignments

    connect ECONNREFUSED 127.0.0.1:3001



  ● Task Lifecycle E2E Test › Task Creation and Management › should handle bulk operations

    connect ECONNREFUSED 127.0.0.1:3001



  ● Task Lifecycle E2E Test › Task Creation and Management › should filter and search tasks

    connect ECONNREFUSED 127.0.0.1:3001



  console.log
    Create response: 201 {
      id: '67cc0f50-2c1c-4343-ae8d-6bce918e3125',
      organizationId: '0a666625-e94f-4dfd-a0e2-58818e40c71b',
      assetId: null,
      scheduleId: null,
      title: 'Simple Test Task',
      description: 'A simple task for testing',
      dueDate: '2025-06-24T22:23:18.674Z',
      status: 'PLANNED',
      priority: 'HIGH',
      estimatedCost: null,
      actualCost: null,
      estimatedMinutes: null,
      actualMinutes: null,
      completedAt: null,
      skippedAt: null,
      createdAt: '2025-06-23T22:23:18.735Z',
      updatedAt: '2025-06-23T22:23:18.735Z',
      asset: null,
      schedule: null,
      assignments: [],
      _count: { assignments: 0, comments: 0, attachments: 0 }
    }

      at Object.<anonymous> (src/test/integration/tasks.api.simple.test.ts:64:13)

  console.log
    Get response: 200 {
      id: '67cc0f50-2c1c-4343-ae8d-6bce918e3125',
      organizationId: '0a666625-e94f-4dfd-a0e2-58818e40c71b',
      assetId: null,
      scheduleId: null,
      title: 'Simple Test Task',
      description: 'A simple task for testing',
      dueDate: '2025-06-24T22:23:18.674Z',
      status: 'PLANNED',
      priority: 'HIGH',
      estimatedCost: null,
      actualCost: null,
      estimatedMinutes: null,
      actualMinutes: null,
      completedAt: null,
      skippedAt: null,
      createdAt: '2025-06-23T22:23:18.735Z',
      updatedAt: '2025-06-23T22:23:18.735Z',
      asset: null,
      schedule: null,
      assignments: [],
      comments: [],
      attachments: [],
      _count: { assignments: 0, comments: 0, attachments: 0 }
    }

      at Object.<anonymous> (src/test/integration/tasks.api.simple.test.ts:75:13)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.758Z","method":"GET","url":"/api/tasks","headers":{"host":"127.0.0.1:43991","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2YjA1MWMyNC1kYWM4LTQ1ZTctOGZjOC03ZTBiOTVjYzUyMWEiLCJvcmdhbml6YXRpb25JZCI6IjBhNjY2NjI1LWU5NGYtNGRmZC1hMGUyLTU4ODE4ZTQwYzcxYiIsInJvbGUiOiJNQU5BR0VSIiwidHlwZSI6ImFjY2VzcyIsImp0aSI6Ijk5N2VjMzdiZmZmZTQwNWVhMzRhNzYyMzU0OTQyNWFlLWFjY2VzcyIsImlhdCI6MTc1MDcxNzM5OCwiZXhwIjoxNzUwNzE4Mjk4LCJhdWQiOiJkdW1iYXNzZXRzLWFwaSIsImlzcyI6ImR1bWJhc3NldHMtZW5oYW5jZWQifQ.jogYaeZEo3XHOg4W0MT_qqAHMTX8KHWAHgdXXDz_b6c","connection":"close"},"error":{"message":"Cannot set property query of [object Object] which has only a getter","stack":"TypeError: Cannot set property query of [object Object] which has only a getter\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:23:18\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/auth.ts:319:5\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"TypeError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:43:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/auth.ts:319:5
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.log
    List response: 500 {
      error: 'Cannot set property query of [object Object] which has only a getter'
    }

      at Object.<anonymous> (src/test/integration/tasks.api.simple.test.ts:86:13)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:18.761Z","method":"GET","url":"/api/tasks","headers":{"host":"127.0.0.1:34117","accept-encoding":"gzip, deflate","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:100:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

FAIL integration src/test/integration/tasks.api.simple.test.ts
  Tasks API Simple Test
    ✓ should create and retrieve a task (81 ms)
    ✕ should list tasks (6 ms)
    ✓ should require authentication (4 ms)

  ● Tasks API Simple Test › should list tasks

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      85 |
      86 |     console.log('List response:', response.status, response.body);
    > 87 |     expect(response.status).toBe(200);
         |                             ^
      88 |     expect(response.body.tasks).toBeDefined();
      89 |     expect(Array.isArray(response.body.tasks)).toBe(true);
      90 |   });

      at Object.<anonymous> (src/test/integration/tasks.api.simple.test.ts:87:29)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:19.099Z","method":"POST","url":"/api/auth/register","body":{"email":"invalid-email","password":"[REDACTED]","fullName":"Test User","organizationName":"Test Organization 1750717399097"},"headers":{"host":"127.0.0.1:40089","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"131","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Object.<anonymous>.exports.authRateLimit.process.env.DISABLE_RATE_LIMITING.windowMs (/home/topher/repos/asset-manager/backend/src/middleware/security.ts:80:68)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Object.<anonymous>.exports.authRateLimit.process.env.DISABLE_RATE_LIMITING.windowMs (src/middleware/security.ts:80:68)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:19.116Z","method":"POST","url":"/api/auth/register","body":{"email":"test-1750717399115@example.com","password":"[REDACTED]","fullName":"Test User","organizationName":"Test Organization 1750717399115"},"headers":{"host":"127.0.0.1:43909","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"135","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Object.<anonymous>.exports.authRateLimit.process.env.DISABLE_RATE_LIMITING.windowMs (/home/topher/repos/asset-manager/backend/src/middleware/security.ts:80:68)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Object.<anonymous>.exports.authRateLimit.process.env.DISABLE_RATE_LIMITING.windowMs (src/middleware/security.ts:80:68)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:19.289Z","method":"POST","url":"/api/auth/register","body":{"email":"test-1750717399126@example.com","password":"[REDACTED]","fullName":"Test User","organizationName":"Test Organization 1750717399287"},"headers":{"host":"127.0.0.1:34855","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"148","connection":"close"},"error":{"message":"Email is already in use","stack":"AppError: Email is already in use\n    at OrganizationService.create (/home/topher/repos/asset-manager/backend/src/services/organization.service.ts:74:13)\n    at async /home/topher/repos/asset-manager/backend/src/routes/auth.ts:103:22","name":"AppError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/auth.ts:140:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:19.303Z","method":"POST","url":"/api/auth/register","body":{},"headers":{"host":"127.0.0.1:34335","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"2","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Object.<anonymous>.exports.authRateLimit.process.env.DISABLE_RATE_LIMITING.windowMs (/home/topher/repos/asset-manager/backend/src/middleware/security.ts:80:68)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Object.<anonymous>.exports.authRateLimit.process.env.DISABLE_RATE_LIMITING.windowMs (src/middleware/security.ts:80:68)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:21.299Z","method":"POST","url":"/api/auth/login","body":{"invalid":"data"},"headers":{"host":"127.0.0.1:43699","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"18","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Object.<anonymous>.exports.authRateLimit.process.env.DISABLE_RATE_LIMITING.windowMs (/home/topher/repos/asset-manager/backend/src/middleware/security.ts:80:68)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Object.<anonymous>.exports.authRateLimit.process.env.DISABLE_RATE_LIMITING.windowMs (src/middleware/security.ts:80:68)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:21.488Z","method":"POST","url":"/api/auth/refresh","body":{"refreshToken":"[REDACTED]"},"headers":{"host":"127.0.0.1:34847","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"32","connection":"close"},"error":{"message":"Invalid refresh token","stack":"AuthenticationError: Invalid refresh token\n    at verifyRefreshToken (/home/topher/repos/asset-manager/backend/src/utils/auth.ts:186:13)\n    at /home/topher/repos/asset-manager/backend/src/routes/auth.ts:270:41\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:31:7\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/auth.ts:287:7
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/validation.ts:31:7
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:21.498Z","method":"POST","url":"/api/auth/refresh","body":{},"headers":{"host":"127.0.0.1:34881","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"2","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:21.682Z","method":"GET","url":"/api/auth/me","headers":{"host":"127.0.0.1:36407","accept-encoding":"gzip, deflate","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at authenticateRequest (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:242:10)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:100:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at authenticateRequest (src/middleware/auth.ts:242:10)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:21.697Z","method":"GET","url":"/api/auth/me","headers":{"host":"127.0.0.1:33507","accept-encoding":"gzip, deflate","authorization":"Bearer invalid-token","connection":"close"},"error":{"message":"Invalid API token format","stack":"AuthenticationError: Invalid API token format\n    at authenticateApiToken (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:164:13)\n    at authenticateRequest (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:252:10)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:100:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at authenticateApiToken (src/middleware/auth.ts:199:5)
      at authenticateRequest (src/middleware/auth.ts:252:10)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:21.881Z","method":"POST","url":"/api/auth/logout","headers":{"host":"127.0.0.1:41933","accept-encoding":"gzip, deflate","connection":"close","content-length":"0"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:109:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:109:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:22.845Z","method":"POST","url":"/api/auth/change-password","body":{"currentPassword":"[REDACTED]","newPassword":"[REDACTED]"},"headers":{"host":"127.0.0.1:44613","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkN2MyNTM1Ny01NmZiLTQ2MzktYjQ0Ni1kZTJlYzgwZWM2ZTQiLCJvcmdhbml6YXRpb25JZCI6IjZiOWU3OWNlLTJkOTgtNDQxNC1iYjBmLTU0OTM5MDcyZDA3MiIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiI3ZDM1NmUwYjRlM2VjYWQxZGQwM2E1MmU3ZDBmMmFjYi1hY2Nlc3MiLCJpYXQiOjE3NTA3MTc0MDIsImV4cCI6MTc1MDcxODMwMiwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.SoMrePfhkJA_tneCnsmf7VRaf1pyy3I-o--I7vt4A3g","content-type":"application/json","content-length":"75","connection":"close"},"error":{"message":"Current password is incorrect","stack":"AppError: Current password is incorrect\n    at UserService.updatePassword (/home/topher/repos/asset-manager/backend/src/services/user.service.ts:328:13)\n    at async /home/topher/repos/asset-manager/backend/src/routes/auth.ts:338:7","name":"AppError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/auth.ts:345:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:23.019Z","method":"POST","url":"/api/auth/change-password","body":{"currentPassword":"[REDACTED]","newPassword":"[REDACTED]"},"headers":{"host":"127.0.0.1:37665","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJhNzY3Njc0Yi1jN2I1LTQxMDktODE5ZS0zMzE0YTc1MzYxN2QiLCJvcmdhbml6YXRpb25JZCI6ImExM2VmZThmLTQ1MzMtNGRmYy1hNjA0LTRmNDk5Y2MzNWYzMSIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiI4ZGI3YTdjN2M0MGI1M2Q3Yjc4OGJmZWRhYjNlNjIzZi1hY2Nlc3MiLCJpYXQiOjE3NTA3MTc0MDMsImV4cCI6MTc1MDcxODMwMywiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.kvfu6sHznv6DOBDqY91dNORcX-CztyKxDKh-U2S1_XQ","content-type":"application/json","content-length":"58","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:23.548Z","method":"POST","url":"/api/auth/tokens","body":{},"headers":{"host":"127.0.0.1:45351","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjYmQzMmU5NS05ODdkLTQyODUtODZhOS03NWJkODU1MDVjNDIiLCJvcmdhbml6YXRpb25JZCI6ImRjMDhhOGU2LTM0ZDQtNGU1OC1hNjZmLWM2Y2UwNmZlNWJkNyIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiIyZDZlMmZjYWNiOGMwNTNiYjcwODE5ZmMzOGZiZGE4ZS1hY2Nlc3MiLCJpYXQiOjE3NTA3MTc0MDMsImV4cCI6MTc1MDcxODMwMywiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.w1lZzrJUJeZXFQyp1sP8ngrq1Wn9VjyMfVAs5KY1Svk","content-type":"application/json","content-length":"2","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:24.261Z","method":"DELETE","url":"/api/auth/tokens/123e4567-e89b-12d3-a456-426614174000","headers":{"host":"127.0.0.1:43009","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI3YWYyZDlmNy1iMzJjLTQ3YzMtYjI2NS05MWRlZTRhNjcwYzkiLCJvcmdhbml6YXRpb25JZCI6IjNjOTlhOGNlLTBlOTYtNGM3NC1hZTM5LWM0NDE1MjJmMWQ5ZiIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJlOTk2Yzg2N2NiODczODI2MzM2MzExMGZmNzEyZWQ4Ni1hY2Nlc3MiLCJpYXQiOjE3NTA3MTc0MDQsImV4cCI6MTc1MDcxODMwNCwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.6x13vBvqp8EYS53ugdt_AcWbtKsj8hQqloDBF2feWKQ","connection":"close"},"error":{"message":"API token not found","stack":"AppError: API token not found\n    at UserService.revokeApiToken (/home/topher/repos/asset-manager/backend/src/services/user.service.ts:843:13)\n    at async /home/topher/repos/asset-manager/backend/src/routes/auth.ts:464:7","name":"AppError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at Immediate.next (../node_modules/router/index.js:291:5)
      at Immediate._onImmediate (../node_modules/router/index.js:688:15)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:24.433Z","method":"DELETE","url":"/api/auth/tokens/invalid-id","headers":{"host":"127.0.0.1:33367","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5YzczOTAxNC04Mjg3LTQ0ZjYtODI0MC1hNzFmZDEzODUzMTciLCJvcmdhbml6YXRpb25JZCI6IjNlNjBiNDRmLWZhOWEtNDU0Zi1iMDA4LTE1MTQyYzA5NTk1YyIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiI0MDNhOWRmNzgxNzI2Y2ZjZmFjYzE3M2YyN2Y5ZmQ1YS1hY2Nlc3MiLCJpYXQiOjE3NTA3MTc0MDQsImV4cCI6MTc1MDcxODMwNCwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.m3JWJBv-N_0b1LvJ5hmUWDvQVMXs15wlLiGkw_6j0w8","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at Immediate.next (../node_modules/router/index.js:291:5)
      at Immediate._onImmediate (../node_modules/router/index.js:688:15)

PASS integration src/test/integration/auth.api.test.ts (5.663 s)
  Authentication API Integration Tests
    POST /api/auth/register
      ✓ should register a new user successfully (188 ms)
      ✓ should reject registration with invalid email (22 ms)
      ✓ should reject registration with weak password (11 ms)
      ✓ should reject registration with duplicate email (172 ms)
      ✓ should reject registration without required fields (14 ms)
    POST /api/auth/login
      ✓ should login user with valid credentials (320 ms)
      ✓ should reject login with invalid email (18 ms)
      ✓ should reject login with invalid password (315 ms)
      ✓ should require 2FA when enabled (448 ms)
      ✓ should authenticate with valid TOTP token (442 ms)
      ✓ should reject login with invalid TOTP token (438 ms)
      ✓ should reject login with invalid request format (19 ms)
    POST /api/auth/refresh
      ✓ should refresh tokens with valid refresh token (171 ms)
      ✓ should reject refresh with invalid token (14 ms)
      ✓ should reject refresh without token (10 ms)
    GET /api/auth/me
      ✓ should return current user info with valid token (169 ms)
      ✓ should reject request without token (18 ms)
      ✓ should reject request with invalid token (12 ms)
    POST /api/auth/logout
      ✓ should logout successfully with valid token (169 ms)
      ✓ should reject logout without token (20 ms)
    POST /api/auth/change-password
      ✓ should change password with valid credentials (630 ms)
      ✓ should reject password change with wrong current password (326 ms)
      ✓ should reject password change with weak new password (175 ms)
    API Token Management
      POST /api/auth/tokens
        ✓ should create API token successfully (175 ms)
        ✓ should create API token with expiration (175 ms)
        ✓ should reject API token creation without name (178 ms)
      GET /api/auth/tokens
        ✓ should list user API tokens (182 ms)
        ✓ should return empty list for user with no tokens (174 ms)
      DELETE /api/auth/tokens/:tokenId
        ✓ should delete API token successfully (184 ms)
        ✓ should reject deletion of non-existent token (173 ms)
        ✓ should reject deletion with invalid token ID format (171 ms)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:26.360Z","method":"GET","url":"/api/auth/me","headers":{"host":"127.0.0.1:37453","accept-encoding":"gzip, deflate","authorization":"Bearer a63240d24b922309a7c30868975d79e163c12d5cbb9c81b794c039da2dbeaf0a","connection":"close"},"error":{"message":"Invalid API token","stack":"AuthenticationError: Invalid API token\n    at authenticateApiToken (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:170:13)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at authenticateApiToken (src/middleware/auth.ts:199:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:26.577Z","method":"POST","url":"/api/auth/register","body":{"email":"invalid-email"},"headers":{"host":"127.0.0.1:33011","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"25","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Object.<anonymous>.exports.authRateLimit.process.env.DISABLE_RATE_LIMITING.windowMs (/home/topher/repos/asset-manager/backend/src/middleware/security.ts:80:68)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Object.<anonymous>.exports.authRateLimit.process.env.DISABLE_RATE_LIMITING.windowMs (src/middleware/security.ts:80:68)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:26.586Z","method":"GET","url":"/api/auth/me","headers":{"host":"127.0.0.1:39923","accept-encoding":"gzip, deflate","connection":"close"},"error":{"message":"Missing or invalid authorization header","stack":"AuthenticationError: Missing or invalid authorization header\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:78:13)\n    at authenticateRequest (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:242:10)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:100:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at authenticateJWT (src/middleware/auth.ts:128:5)
      at authenticateRequest (src/middleware/auth.ts:242:10)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:26.590Z","method":"GET","url":"/api/auth/me","headers":{"host":"127.0.0.1:37465","accept-encoding":"gzip, deflate","authorization":"Bearer invalid-token","connection":"close"},"error":{"message":"Invalid API token format","stack":"AuthenticationError: Invalid API token format\n    at authenticateApiToken (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:164:13)\n    at authenticateRequest (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:252:10)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at jsonParser (/home/topher/repos/asset-manager/node_modules/body-parser/lib/types/json.js:100:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at cors (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:188:7)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:224:17\n    at originCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:214:15)\n    at /home/topher/repos/asset-manager/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/home/topher/repos/asset-manager/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:531:6)\n    at xXssProtectionMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:311:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPoweredByMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:304:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:297:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xFrameOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:281:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDownloadOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:261:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:254:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:246:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at strictTransportSecurityMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:239:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at referrerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:207:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at originAgentClusterMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:182:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:175:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:159:3)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:124:4)\n    at internalNext (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:529:6)\n    at helmetMiddleware (/home/topher/repos/asset-manager/node_modules/helmet/index.cjs:533:6)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/express/lib/application.js:177:15)\n    at Server.app (/home/topher/repos/asset-manager/node_modules/express/lib/express.js:38:9)\n    at Server.emit (node:events:518:28)\n    at Server.emit (node:domain:489:12)\n    at parserOnIncoming (node:_http_server:1153:12)\n    at HTTPParser.parserOnHeadersComplete (node:_http_common:117:17)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at authenticateApiToken (src/middleware/auth.ts:199:5)
      at authenticateRequest (src/middleware/auth.ts:252:10)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at jsonParser (../node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at cors (../node_modules/cors/lib/index.js:188:7)
      at ../node_modules/cors/lib/index.js:224:17
      at originCallback (../node_modules/cors/lib/index.js:214:15)
      at ../node_modules/cors/lib/index.js:219:13
      at optionsCallback (../node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (../node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at internalNext (../node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (../node_modules/helmet/index.cjs:311:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (../node_modules/helmet/index.cjs:304:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (../node_modules/helmet/index.cjs:297:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (../node_modules/helmet/index.cjs:281:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (../node_modules/helmet/index.cjs:261:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (../node_modules/helmet/index.cjs:254:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (../node_modules/helmet/index.cjs:246:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (../node_modules/helmet/index.cjs:239:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (../node_modules/helmet/index.cjs:207:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (../node_modules/helmet/index.cjs:182:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (../node_modules/helmet/index.cjs:175:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (../node_modules/helmet/index.cjs:159:3)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (../node_modules/helmet/index.cjs:124:4)
      at internalNext (../node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (../node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at Function.handle (../node_modules/express/lib/application.js:177:15)
      at Server.app (../node_modules/express/lib/express.js:38:9)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:26.594Z","method":"POST","url":"/api/auth/refresh","body":{"refreshToken":"[REDACTED]"},"headers":{"host":"127.0.0.1:37219","accept-encoding":"gzip, deflate","content-type":"application/json","content-length":"32","connection":"close"},"error":{"message":"Invalid refresh token","stack":"AuthenticationError: Invalid refresh token\n    at verifyRefreshToken (/home/topher/repos/asset-manager/backend/src/utils/auth.ts:186:13)\n    at /home/topher/repos/asset-manager/backend/src/routes/auth.ts:270:41\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:31:7\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:117:3)\n    at handle (/home/topher/repos/asset-manager/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:295:15\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at Function.handle (/home/topher/repos/asset-manager/node_modules/router/index.js:186:3)\n    at router (/home/topher/repos/asset-manager/node_modules/router/index.js:60:12)\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/home/topher/repos/asset-manager/node_modules/router/index.js:342:13)\n    at /home/topher/repos/asset-manager/node_modules/router/index.js:297:9\n    at processParams (/home/topher/repos/asset-manager/node_modules/router/index.js:582:12)\n    at next (/home/topher/repos/asset-manager/node_modules/router/index.js:291:5)\n    at /home/topher/repos/asset-manager/node_modules/body-parser/lib/read.js:132:5\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:238:16)\n    at done (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/topher/repos/asset-manager/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","name":"AuthenticationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/auth.ts:287:7
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at src/middleware/validation.ts:31:7
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at Route.dispatch (../node_modules/router/lib/route.js:117:3)
      at handle (../node_modules/router/index.js:435:11)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at ../node_modules/router/index.js:295:15
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Function.handle (../node_modules/router/index.js:186:3)
      at router (../node_modules/router/index.js:60:12)
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at trimPrefix (../node_modules/router/index.js:342:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (../node_modules/raw-body/index.js:238:16)
      at done (../node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (../node_modules/raw-body/index.js:287:7)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:26.912Z","method":"POST","url":"/api/auth/change-password","body":{"currentPassword":"[REDACTED]","newPassword":"[REDACTED]"},"headers":{"host":"127.0.0.1:40925","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkYWE0ZTE3My03OWU1LTRjZDYtYjk3MS01ZjE2MTkxMjg3OTgiLCJvcmdhbml6YXRpb25JZCI6IjFhOTBiNTY2LTExY2EtNGRlYi04NzcxLWI1YWViOTA2ZDUyNCIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJjZDI3NmU3NjJkYTI5MjEyYTIxN2JkNDI1NDk0MWFkYi1hY2Nlc3MiLCJpYXQiOjE3NTA3MTc0MDYsImV4cCI6MTc1MDcxODMwNiwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.EOHQYCRg26A7N076T8JHePLSvIfejaVgfrqb2oBnUG0","content-type":"application/json","content-length":"68","connection":"close"},"error":{"message":"Current password is incorrect","stack":"AppError: Current password is incorrect\n    at UserService.updatePassword (/home/topher/repos/asset-manager/backend/src/services/user.service.ts:328:13)\n    at async /home/topher/repos/asset-manager/backend/src/routes/auth.ts:338:7","name":"AppError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at src/routes/auth.ts:345:7

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:26.917Z","method":"POST","url":"/api/auth/tokens","body":{},"headers":{"host":"127.0.0.1:46801","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkYWE0ZTE3My03OWU1LTRjZDYtYjk3MS01ZjE2MTkxMjg3OTgiLCJvcmdhbml6YXRpb25JZCI6IjFhOTBiNTY2LTExY2EtNGRlYi04NzcxLWI1YWViOTA2ZDUyNCIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJjZDI3NmU3NjJkYTI5MjEyYTIxN2JkNDI1NDk0MWFkYi1hY2Nlc3MiLCJpYXQiOjE3NTA3MTc0MDYsImV4cCI6MTc1MDcxODMwNiwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.EOHQYCRg26A7N076T8JHePLSvIfejaVgfrqb2oBnUG0","content-type":"application/json","content-length":"2","connection":"close"},"error":{"message":"Validation failed","stack":"ValidationError: Validation failed\n    at /home/topher/repos/asset-manager/backend/src/middleware/validation.ts:34:33\n    at Layer.handleRequest (/home/topher/repos/asset-manager/node_modules/router/lib/layer.js:152:17)\n    at next (/home/topher/repos/asset-manager/node_modules/router/lib/route.js:157:13)\n    at authenticateJWT (/home/topher/repos/asset-manager/backend/src/middleware/auth.ts:120:5)","name":"ValidationError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at ../node_modules/router/index.js:688:15
      at next (../node_modules/router/index.js:276:14)
      at next (../node_modules/router/lib/route.js:132:14)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at next (../node_modules/router/lib/route.js:155:13)
      at src/middleware/validation.ts:41:9
      at Layer.handleRequest (../node_modules/router/lib/layer.js:152:17)
      at next (../node_modules/router/lib/route.js:157:13)
      at authenticateJWT (src/middleware/auth.ts:120:5)

  console.error
    {"level":"error","message":"Error in request","timestamp":"2025-06-23T22:23:26.921Z","method":"DELETE","url":"/api/auth/tokens/123e4567-e89b-12d3-a456-426614174000","headers":{"host":"127.0.0.1:43829","accept-encoding":"gzip, deflate","authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkYWE0ZTE3My03OWU1LTRjZDYtYjk3MS01ZjE2MTkxMjg3OTgiLCJvcmdhbml6YXRpb25JZCI6IjFhOTBiNTY2LTExY2EtNGRlYi04NzcxLWI1YWViOTA2ZDUyNCIsInJvbGUiOiJPV05FUiIsInR5cGUiOiJhY2Nlc3MiLCJqdGkiOiJjZDI3NmU3NjJkYTI5MjEyYTIxN2JkNDI1NDk0MWFkYi1hY2Nlc3MiLCJpYXQiOjE3NTA3MTc0MDYsImV4cCI6MTc1MDcxODMwNiwiYXVkIjoiZHVtYmFzc2V0cy1hcGkiLCJpc3MiOiJkdW1iYXNzZXRzLWVuaGFuY2VkIn0.EOHQYCRg26A7N076T8JHePLSvIfejaVgfrqb2oBnUG0","connection":"close"},"error":{"message":"API token not found","stack":"AppError: API token not found\n    at UserService.revokeApiToken (/home/topher/repos/asset-manager/backend/src/services/user.service.ts:843:13)\n    at async /home/topher/repos/asset-manager/backend/src/routes/auth.ts:464:7","name":"AppError"}}

      38 |
      39 |       if (level === 'error') {
    > 40 |         console.error(output);
         |                 ^
      41 |       } else if (level === 'warn') {
      42 |         console.warn(output);
      43 |       } else {

      at Logger.log (src/utils/logger.ts:40:17)
      at Logger.error (src/utils/logger.ts:50:10)
      at errorHandler (src/middleware/errorHandler.ts:78:10)
      at Layer.handleError (../node_modules/router/lib/layer.js:116:17)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at next (../node_modules/router/index.js:291:5)
      at Layer.handleError (../node_modules/router/lib/layer.js:111:12)
      at trimPrefix (../node_modules/router/index.js:340:13)
      at ../node_modules/router/index.js:297:9
      at processParams (../node_modules/router/index.js:582:12)
      at Immediate.next (../node_modules/router/index.js:291:5)
      at Immediate._onImmediate (../node_modules/router/index.js:688:15)

PASS integration src/test/e2e/user-lifecycle.test.ts
  E2E: Complete User Lifecycle
    ✓ Complete user registration and authentication flow (810 ms)
    ✓ Complete 2FA setup and authentication flow (768 ms)
    ✓ Complete API token management flow (210 ms)
    ✓ Organization management by owner (200 ms)
    ✓ Error handling throughout user flows (357 ms)

PASS integration src/test/integration/asset.service.integration.test.ts
  AssetService Integration Tests
    Asset CRUD with Template and Location
      ✓ should create asset with template and location (77 ms)
      ✓ should handle asset hierarchy (39 ms)
      ✓ should move asset between parents (45 ms)
      ✓ should update asset status lifecycle (38 ms)
    Asset Search and Filtering
      ✓ should search assets by name (63 ms)
      ✓ should filter by category (60 ms)
      ✓ should filter by location (61 ms)
      ✓ should filter by tags (59 ms)
      ✓ should find warranty expiring assets (57 ms)
    Asset Statistics
      ✓ should calculate comprehensive statistics (52 ms)
    Asset Deletion and Cascading
      ✓ should prevent deletion of asset with active tasks (29 ms)
      ✓ should cascade delete child assets (31 ms)

  console.log
    All locations: [
      {
        id: '208f94e0-2d79-4639-b655-72d7c583fc2a',
        name: 'Main Building',
        parentId: null,
        path: '208f94e0-2d79-4639-b655-72d7c583fc2a'
      },
      {
        id: '0e5b73c8-7aa3-4536-980d-cad8aedd10cb',
        name: 'Floor 1',
        parentId: '208f94e0-2d79-4639-b655-72d7c583fc2a',
        path: '208f94e0-2d79-4639-b655-72d7c583fc2a.0e5b73c8-7aa3-4536-980d-cad8aedd10cb'
      },
      {
        id: '19241639-5c16-425f-b257-17161669badc',
        name: 'Room 102',
        parentId: '0e5b73c8-7aa3-4536-980d-cad8aedd10cb',
        path: '208f94e0-2d79-4639-b655-72d7c583fc2a.0e5b73c8-7aa3-4536-980d-cad8aedd10cb.19241639-5c16-425f-b257-17161669badc'
      },
      {
        id: '9512cd6a-7408-4a8e-912b-d96ccd34ed9e',
        name: 'Room 101',
        parentId: '0e5b73c8-7aa3-4536-980d-cad8aedd10cb',
        path: '208f94e0-2d79-4639-b655-72d7c583fc2a.0e5b73c8-7aa3-4536-980d-cad8aedd10cb.9512cd6a-7408-4a8e-912b-d96ccd34ed9e'
      },
      {
        id: '473c1afd-fbbc-4d47-bfaa-73087d4d6b82',
        name: 'Floor 2',
        parentId: '208f94e0-2d79-4639-b655-72d7c583fc2a',
        path: '208f94e0-2d79-4639-b655-72d7c583fc2a.473c1afd-fbbc-4d47-bfaa-73087d4d6b82'
      }
    ]

      at Object.<anonymous> (src/test/integration/location.service.integration.test.ts:328:15)

  console.log
    Tree result: [
      {
        "id": "208f94e0-2d79-4639-b655-72d7c583fc2a",
        "organizationId": "0b37966a-dd81-46f9-8d39-81d9ab5b0e0d",
        "name": "Main Building",
        "description": null,
        "parentId": null,
        "path": "208f94e0-2d79-4639-b655-72d7c583fc2a",
        "createdAt": "2025-06-23T22:23:28.043Z",
        "updatedAt": "2025-06-23T22:23:28.045Z",
        "children": [
          {
            "id": "0e5b73c8-7aa3-4536-980d-cad8aedd10cb",
            "organizationId": "0b37966a-dd81-46f9-8d39-81d9ab5b0e0d",
            "name": "Floor 1",
            "description": null,
            "parentId": "208f94e0-2d79-4639-b655-72d7c583fc2a",
            "path": "208f94e0-2d79-4639-b655-72d7c583fc2a.0e5b73c8-7aa3-4536-980d-cad8aedd10cb",
            "createdAt": "2025-06-23T22:23:28.050Z",
            "updatedAt": "2025-06-23T22:23:28.052Z",
            "children": [
              {
                "id": "19241639-5c16-425f-b257-17161669badc",
                "organizationId": "0b37966a-dd81-46f9-8d39-81d9ab5b0e0d",
                "name": "Room 102",
                "description": null,
                "parentId": "0e5b73c8-7aa3-4536-980d-cad8aedd10cb",
                "path": "208f94e0-2d79-4639-b655-72d7c583fc2a.0e5b73c8-7aa3-4536-980d-cad8aedd10cb.19241639-5c16-425f-b257-17161669badc",
                "createdAt": "2025-06-23T22:23:28.070Z",
                "updatedAt": "2025-06-23T22:23:28.072Z",
                "children": []
              },
              {
                "id": "9512cd6a-7408-4a8e-912b-d96ccd34ed9e",
                "organizationId": "0b37966a-dd81-46f9-8d39-81d9ab5b0e0d",
                "name": "Room 101",
                "description": null,
                "parentId": "0e5b73c8-7aa3-4536-980d-cad8aedd10cb",
                "path": "208f94e0-2d79-4639-b655-72d7c583fc2a.0e5b73c8-7aa3-4536-980d-cad8aedd10cb.9512cd6a-7408-4a8e-912b-d96ccd34ed9e",
                "createdAt": "2025-06-23T22:23:28.063Z",
                "updatedAt": "2025-06-23T22:23:28.065Z",
                "children": []
              }
            ]
          },
          {
            "id": "473c1afd-fbbc-4d47-bfaa-73087d4d6b82",
            "organizationId": "0b37966a-dd81-46f9-8d39-81d9ab5b0e0d",
            "name": "Floor 2",
            "description": null,
            "parentId": "208f94e0-2d79-4639-b655-72d7c583fc2a",
            "path": "208f94e0-2d79-4639-b655-72d7c583fc2a.473c1afd-fbbc-4d47-bfaa-73087d4d6b82",
            "createdAt": "2025-06-23T22:23:28.057Z",
            "updatedAt": "2025-06-23T22:23:28.059Z",
            "children": []
          }
        ]
      }
    ]

      at Object.<anonymous> (src/test/integration/location.service.integration.test.ts:335:15)

PASS integration src/test/integration/location.service.integration.test.ts
  LocationService Integration Tests
    Location Creation and Path Management
      ✓ should create root location with correct path (9 ms)
      ✓ should create child location with correct path (17 ms)
      ✓ should create grandchild location with correct path (23 ms)
      ✓ should prevent duplicate names in same parent (22 ms)
      ✓ should allow duplicate names in different parents (30 ms)
    Location Move Operations
      ✓ should move location and update paths correctly (33 ms)
      ✓ should move location to root (33 ms)
      ✓ should prevent circular dependency - direct (28 ms)
      ✓ should prevent circular dependency - indirect (29 ms)
      ✓ should prevent cross-organization moves (35 ms)
    Location Deletion
      ✓ should delete leaf location successfully (22 ms)
      ✓ should prevent deletion of location with children (17 ms)
    Location Queries
      ✓ should return organization locations as tree structure (40 ms)
      ✓ should find subtree correctly (40 ms)
      ✓ should find ancestors correctly (38 ms)
      ✓ should return empty ancestors for root location (36 ms)
      ✓ should search by name case-insensitively (36 ms)
    Organization Isolation
      ✓ should only return locations for specified organization (16 ms)

  console.warn
    IMPORTANT! Eviction policy is allkeys-lru. It should be "noeviction"

      at RedisConnection.getRedisVersion (../node_modules/bullmq/src/classes/redis-connection.ts:373:19)
      at async RedisConnection.init (../node_modules/bullmq/src/classes/redis-connection.ts:253:22)

  console.warn
    IMPORTANT! Eviction policy is allkeys-lru. It should be "noeviction"

      at RedisConnection.getRedisVersion (../node_modules/bullmq/src/classes/redis-connection.ts:373:19)
      at async RedisConnection.init (../node_modules/bullmq/src/classes/redis-connection.ts:253:22)

  console.warn
    IMPORTANT! Eviction policy is allkeys-lru. It should be "noeviction"

      at RedisConnection.getRedisVersion (../node_modules/bullmq/src/classes/redis-connection.ts:373:19)
      at async RedisConnection.init (../node_modules/bullmq/src/classes/redis-connection.ts:253:22)

  console.warn
    IMPORTANT! Eviction policy is allkeys-lru. It should be "noeviction"

      at RedisConnection.getRedisVersion (../node_modules/bullmq/src/classes/redis-connection.ts:373:19)
      at async RedisConnection.init (../node_modules/bullmq/src/classes/redis-connection.ts:253:22)

  console.warn
    IMPORTANT! Eviction policy is allkeys-lru. It should be "noeviction"

      at RedisConnection.getRedisVersion (../node_modules/bullmq/src/classes/redis-connection.ts:373:19)
      at async RedisConnection.init (../node_modules/bullmq/src/classes/redis-connection.ts:253:22)

  console.warn
    IMPORTANT! Eviction policy is allkeys-lru. It should be "noeviction"

      at RedisConnection.getRedisVersion (../node_modules/bullmq/src/classes/redis-connection.ts:373:19)
      at async RedisConnection.init (../node_modules/bullmq/src/classes/redis-connection.ts:253:22)

  console.warn
    IMPORTANT! Eviction policy is allkeys-lru. It should be "noeviction"

      at RedisConnection.getRedisVersion (../node_modules/bullmq/src/classes/redis-connection.ts:373:19)
      at async RedisConnection.init (../node_modules/bullmq/src/classes/redis-connection.ts:253:22)

  console.warn
    IMPORTANT! Eviction policy is allkeys-lru. It should be "noeviction"

      at RedisConnection.getRedisVersion (../node_modules/bullmq/src/classes/redis-connection.ts:373:19)
      at async RedisConnection.init (../node_modules/bullmq/src/classes/redis-connection.ts:253:22)

  console.warn
    IMPORTANT! Eviction policy is allkeys-lru. It should be "noeviction"

      at RedisConnection.getRedisVersion (../node_modules/bullmq/src/classes/redis-connection.ts:373:19)
      at async RedisConnection.init (../node_modules/bullmq/src/classes/redis-connection.ts:253:22)

  console.warn
    IMPORTANT! Eviction policy is allkeys-lru. It should be "noeviction"

      at RedisConnection.getRedisVersion (../node_modules/bullmq/src/classes/redis-connection.ts:373:19)
      at async RedisConnection.init (../node_modules/bullmq/src/classes/redis-connection.ts:253:22)

PASS integration src/test/integration/health.test.ts
  Health Check Integration Tests
    GET /health
      ✓ should return health status (8 ms)
      ✓ should return JSON content type (8 ms)
      ✓ should be accessible without authentication (1 ms)
    404 Handler
      ✓ should return 404 for non-existent routes (7 ms)
      ✓ should return 404 for non-existent API routes (1 ms)

PASS integration src/test/integration/simple-health.test.ts
  Simple Health Check
    ✓ should create a basic Express app and respond to health check (2 ms)

Test Suites: 4 failed, 6 passed, 10 total
Tests:       26 failed, 113 passed, 139 total
Snapshots:   0 total
Time:        14.83 s, estimated 17 s
Ran all test suites.
Jest did not exit one second after the test run has completed.

'This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
